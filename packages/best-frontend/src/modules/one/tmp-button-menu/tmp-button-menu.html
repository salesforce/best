<template>
    <button class={buttonClass}
        disabled={disabled}
        aria-expanded={ariaExpanded}
        tabindex={tabIndex}
        value={value}
        aria-haspopup="true"
        onclick={handleButtonClick}
        onkeydown={handleButtonKeyDown}
        onblur={handleBlur}
        onfocus={handleFocus}
        onmousedown={handleButtonMouseDown}>

        <span>{label}</span>
        <one-tmp-primitive-icon icon-name={iconName} svg-class={iconClass} variant="bare"></one-tmp-primitive-icon>

        <template if:true={showDownIcon}>
            <one-tmp-primitive-icon icon-name="utility:down" svg-class={iconClass} variant="bare"></one-tmp-primitive-icon>
        </template>

        <template if:true={alternativeText}>
            <span class="slds-assistive-text">{alternativeText}</span>
        </template>
    </button>

    <div if:true={state.dropdownOpened}
        class={dropdownClass}
        role="menu"
        onselect={handleMenuItemSelect}
        onblur={handleBlur}
        onmouseover={handleMouseOverOnMenuItem}
        onmouseout={allowBlur}
        onkeydown={handleKeyOnMenuItem}>
        <slot></slot>
    </div>
</template>
