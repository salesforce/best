<template>
    <div class={containerClassNames} data-metric={metric} data-first={first}>
        <template for:each={selectedPoints} for:item="point">
            <component-commit-info key={point.commit} hidden={point.hidden} pendingcompare={point.pendingCompare} commit={point.commit} left={point.left} top={point.top} oncompare={onCompareClick} onclose={closeCommitInfo}></component-commit-info>
        </template>
        <div class="graph" lwc:dom="manual"></div>
        <template if:true={comparing}>
            <span>Comparing: </span>
            <template for:each={pendingCommitsToCompare} for:item="commit">
                <span key={commit}>{commit} </span>
            </template>
            <button onclick={runComparison}>Run Comparison</button>
        </template>
        <template if:true={showingComparison}>
            <component-modal onclose={closeModal} title="Comparison">
                <span>Comparing: </span>
                <template for:each={viewComparisonCommits} for:item="commit">
                    <span key={commit}>{commit} </span>
                </template>
                <template if:true={hasComparisonResults}>
                    <div class="comparison-graph" lwc:dom="manual"></div>
                </template>
            </component-modal>
        </template>
    </div>
</template>